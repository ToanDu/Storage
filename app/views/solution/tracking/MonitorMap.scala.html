@import vn.m2m.common.models.User
@import vn.m2m.utils.UserHelper
@(currentUser:User, projectId:String)
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>@Messages("Monitor Map")</title>
    <link rel="icon" type="image/png" href="@routes.Assets.versioned("images/logo.jpg")">

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />


    @views.html.iot.tags.Main_css()
    <script type="text/javascript" src="@UserHelper.linkGoogleMapApi"></script>
    <link href="@routes.Assets.versioned("stylesheets/views/solution/tracking/map.css")" rel="stylesheet"/>
    <link href="@routes.Assets.versioned("stylesheets/views/solution/tracking/infowindow.css")" rel="stylesheet"/>

    <style type="text/css">
            .move-in {
              -moz-transition: all 0.4s ease;
              -webkit-transition: all 0.4s ease;
              -o-transition: all 0.4s ease;
              -ms-transition: all 0.4s ease;
              transition: all 0.4s ease;
              position: absolute;
              top: 45%;
              left: 97%;
              width: 28px;
              height: 55px;
              display: block;
              padding: 10px 10px 10px 0px;
              z-index: 96;
              cursor: pointer;
              margin-left: -4px;
              background: url(@routes.Assets.versioned("img/sidebar/moveicon-in.png")) no-repeat;
            }

            .move-out {
              -moz-transition: all 0.4s ease;
              -webkit-transition: all 0.4s ease;
              -o-transition: all 0.4s ease;
              -ms-transition: all 0.4s ease;
              transition: all 0.4s ease;
              position: absolute;
              top: 45%;
              left: 0px;
              width: 28px;
              height: 55px;
              display: block;
              padding: 10px 10px 10px 0px;
              z-index: 96;
              cursor: pointer;
              background: url(@routes.Assets.versioned("img/sidebar/moveicon-out.png")) no-repeat;
            }
    </style>

    </head>
  <body class="bg-theme" style="overflow: hidden;">
    <div class="wrapper">
      @views.html.iot.tags.Menu(currentUser, projectId)

      @views.html.iot.tags.Header(currentUser)


      <div class="page-wrapper">
        <div class="page-content" style="padding: 0px;">
          <div class="main-panel">
            <div class="overlay-map">

              <div id="sidebar-wrapper" class="left-panel-2">
                <div class="sidebar-content">
                  <div class="panel-heading ">
                    <h4 class="panel-title align-items-center text-white" style="margin-bottom: 0;">@Messages("manage.tracking.map.title")</h4>
                  </div>
                  <div class="panel-body">
                    <div class="col-md-12 form-horizontal" style="padding: 5px;">
                      <div class="search-field">
                        <div class="row" style="">
                          <label class="col-sm-3 col-form-label">@Messages("Search")</label>
                          <div class="col-sm-9">
                            <input id="search-device" class="form-control" type="text" placeholder="">
                          </div>
                        </div>
                      </div>
                    </div>

                    <div id="scroll-area-position" class="col-md-12" style="padding: 0; margin-top: 15px;float: left;">
                      <div class="table-responsive">
                        <table class="table mb-0" id="table-map-view" style="background-color: #EAEBEB">
                          <thead id="theadExport" style="color: white; background-color: #858687">
                            <tr>
                              <th class="text-center" style="width: 40px">@Messages("STT")</th>
                              <th style="width: 100px">@Messages("manage.tracking.map.name")</th>
                              <th style="width: 100px">@Messages("manage.tracking.map.status")</th>
                            </tr>
                          </thead>
                          <tbody>

                          </tbody>
                        </table>
                      </div>
                    </div>

                    <div class="col-md-12" style="float: left; padding: 5px; background-color: #dee2e6;">
                      <table style="margin-bottom: 0">
                        <thead>
                          <tr>
                            <th style="width: 80px"></th>
                            <th>@Messages("Tá»•ng")@Messages(" ")</th>
                            <th id="id-sum-stt" style="padding-right: 5px; text-align: right !important;">0</th>
                          </tr>
                        </thead>
                      </table>
                    </div>

                    @*<div class="">*@
                      @*<div class="pn footer" style="width:100%;font-size: 12px; color: #000; background-color: transparent; z-index: 99; padding: 0.5rem 0;">*@
                        @*<div class="col-md-12">*@
                          @*<div class="row">*@
                            @*<div class="col-md-7"><img style="float: left" src="@routes.Assets.versioned("img/car/greenCar.png")" width="24" height="24" >*@
                              @*<label style="float: left;*@
                                @*line-height: 0;*@
                                @*margin: 11px 20px 10px 3px;">@Messages("run")</label>*@
                            @*</div>*@
                          @*</div>*@

                        @*</div>*@
                      @*</div>*@
                    @*</div>*@

                  </div>
                </div>
              </div>

              <a id="menu-toggle" class="move-out"></a>

            </div>
          </div>

          <div id="page-content-wrapper">
            <div id = "map-canvas" class="big-map" style="position: absolute"></div>
          </div>

          @views.html.solution.tracking.MonitorMap_infowindow(projectId)
        </div>
      </div>

    </div>
  </body>

  <script src="@routes.Assets.versioned("javascripts/jquery/jquery.js")" type="text/javascript"></script>
  <script src="@routes.Assets.versioned("javascripts/jquery/jquery-ui.js")" type="text/javascript"></script>
  <script src="@routes.Assets.versioned("javascripts/jquery/jquery-ui.min.js")" type="text/javascript"></script>
  <script src="@routes.Assets.versioned("javascripts/jquery/jquery-ui-1.12.1.js")" type="text/javascript"></script>

  @views.html.iot.tags.Main_js()

  <script src="@routes.Assets.versioned("javascripts/jquery/jquery-1.12.4.js")" type="text/javascript"></script>

  <script>
          var projectId = '@projectId';

          $(document).ready(function () {
            $("#menu-tracking").addClass("mm-active");
            $("#menu-tracking-map").addClass("mm-active");
            $("#menu").metisMenu();
          });
  </script>

  <script>
          var initLatLng = new google.maps.LatLng(15.664142, 104.266281);
          var mapOptions = {
            center: initLatLng,
            zoom: 6,
            zoomControl: true,
            zoomControlOptions: {
              position: google.maps.ControlPosition.TOP_RIGHT
            },
            mapTypeControlOptions: {
              position: google.maps.ControlPosition.BOTTOM_CENTER
            },
            mapTypeControl: false,
            scaleControl: false,
            streetViewControl: false,
            fullscreenControl: true,
            fullscreenControlOptions: {
              position: google.maps.ControlPosition.RIGHT_BOTTOM
            },
            gestureHandling: 'greedy'
          };
          var mapPosition = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

          $('.nav-overlay>nav').attr("style", "background-color: rgba(0,0,0,0.5) !important; color: white; position: relative !important;");
          $('#map-canvas').attr("style", "position: absolute;");

          var carRun = "@routes.Assets.versioned("images/vtag/map.png")";
          //Signal
          var circleSignal_run = "@routes.Assets.versioned("img/image_signal/redCircle.gif")";

  </script>
  <script src="@routes.Assets.versioned("javascripts/views/solution/tracking/monitorMap/TrackingUtil.js")" type="text/javascript"></script>

  <script src="@routes.Assets.versioned("javascripts/views/solution/tracking/monitorMap/MonitorMap.js")" type="text/javascript"></script>
  <script src="@routes.Assets.versioned("javascripts/views/solution/tracking/monitorMap/MonitorMap_markerSignal.js")" type="text/javascript"></script>
  <script src="@routes.Assets.versioned("javascripts/views/solution/tracking/monitorMap/MapPositionMarkerCluster.js")" type="text/javascript"></script>
  <script src="@routes.Assets.versioned("javascripts/views/solution/tracking/monitorMap/MonitorMap_markerCluster.js")" type="text/javascript"></script>
  <script src="@routes.Assets.versioned("javascripts/views/solution/tracking/monitorMap/MonitorMap_icon.js")" type="text/javascript"></script>
  @*<script src="@routes.Assets.versioned("javascripts/views/solution/tracking/monitorMap/MonitorMap_deviceList.js")" type="text/javascript"></script>*@
  <script src="@routes.Assets.versioned("javascripts/views/solution/tracking/monitorMap/MonitorMap_infowindow.js")" type="text/javascript"></script>

</html>