@import helper._
@import vn.m2m.utils.DateUtil
@import vn.m2m.common.models.User
@import vn.m2m.common.models.Role
@import vn.m2m.utils.UserHelper
@import vn.m2m.common.models.forms.SearchObjectData
@(currentUser:User, roleList: List[Role])
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <title>@Messages("Manage Roles")</title>
        <link rel="icon" type="image/png" href="@routes.Assets.versioned("images/logo.jpg")">

        <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
        <meta name="viewport" content="width=device-width" />

        @views.html.iot.tags.Main_css()

        <link href="@routes.Assets.versioned("stylesheets/views/group/style.min.css")" rel="stylesheet" />
        <link href="@routes.Assets.versioned("stylesheets/views/modal-right.css")" rel="stylesheet" />
        <link href="@routes.Assets.versioned("stylesheets/views/roles/roles.css")" rel="stylesheet" />

    </head>
    <body class="bg-theme">
        @views.html.iot.tags.Menu(currentUser, "")

        @views.html.iot.tags.Header(currentUser)

        <div class="page-wrapper">
            <div class="page-content">

                    <!--breadcrumb-->
                <div class="page-breadcrumb d-none d-sm-flex align-items-center mb-3 ">
                    <div class="breadcrumb-title pe-3">@Messages("manage.manage")</div>
                    <div class="ps-3">
                        <nav aria-label="breadcrumb">
                            <ol class="breadcrumb mb-0 p-0">
                                <li class="breadcrumb-item"><a href="javascript:;"><i class="bx bx-home-alt "></i></a>
                                </li>
                                <li class="breadcrumb-item active " aria-current="page">@Messages("manage.group.role")</li>
                            </ol>
                        </nav>
                    </div>
                    <div class="ms-auto">

                    </div>
                </div>
                    <!--end breadcrumb-->

                <div class="card ">
                    <div class="card-header card-header-primary card-header-icon">
                        <div class="toolbar" style="float: right">
                            <button class="btn btn-light px-5 radius-30" data-bs-toggle="modal" data-bs-target="#addConfirmModal">
                                <i class="bx bx-plus" aria-hidden="true"></i> @Messages("role.addNew")
                            </button>
                        </div>
                    </div>

                    <div class="card-body">
                        <div class="table-responsive">

                            <table id="dataTables" class="table table-striped table-bordered">
                                <thead class="cf">
                                    <th>@Messages("ID")</th>
                                    <th>@Messages("filter.name")</th>
                                    <th>@Messages("btnAction")</th>

                                </thead>
                                <tbody align="left">
                                @for((role: Role)<- roleList) {
                                    <tr>
                                        <td>@role.getId</td>
                                        <td>@role.getName</td>
                                        <td class="dt-buttons btn-group" style="width: 90%">
                                            <button rel="tooltip" title="@Messages("btnView")" class="btn btn-light" onclick="showServicePolicy('@role.getServiceLog')" data-bs-toggle="modal" data-bs-target="#viewRoleConfirm">
                                                <i class="bx bx-info-circle me-0"></i>
                                            </button>
                                            <button rel="tooltip" title="@Messages("btnEdit")" class="btn btn-light" onclick="getUpdateView('@role.getId')" data-bs-toggle="modal" data-bs-target="#editModal">
                                                <i class="bx bx-edit me-0"></i>
                                            </button>
                                            <button rel="tooltip" title="@Messages("btnDelete")" class="btn btn-light" onclick="deleteRole('@role.getId')" data-bs-toggle="modal" data-bs-target="#deleteRoleConfirm">
                                                <i class="bx bx-x me-0"></i>
                                            </button>
                                        </td>

                                    </tr>
                                }
                                </tbody>
                            </table>

                        </div>
                    </div>
                </div>
            </div>

            @views.html.roles.Role_add()
            @views.html.user.UserList_link()
            @views.html.roles.Role_del()
            @views.html.roles.Role_edit()
            @views.html.roles.Role_view()

            @views.html.Loading()
        </div>
            <!--  END OF PAPER WRAP -->


    </body>

    @views.html.iot.tags.Main_js()

    <script src="@routes.Assets.versioned("assets/js/bootstrap.bundle.min.js")"></script>
        <!--plugins-->
    <script src="@routes.Assets.versioned("assets/plugins/simplebar/js/simplebar.min.js")"></script>
    <script src="@routes.Assets.versioned("assets/plugins/metismenu/js/metisMenu.min.js")"></script>
    <script src="@routes.Assets.versioned("assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js")"></script>
    <script>
                $(document).ready(function () {
                    $("#menu-role").addClass("mm-active");
                    $("#menu").metisMenu();
                })
    </script>

    <script src="@routes.Assets.versioned("javascripts/SearchJs.js")" type="text/javascript"></script>

    <script>
                $(document).ready(function() {
                    var table = $('#dataTables').DataTable( {
                        responsive: true,
                        lengthChange: false,
//                        buttons: [ 'excel', 'pdf', 'print'],
                        "order": [],
                        "info": false
                    } );
                    $("#dataTables_filter input")[0].maxLength = 30;
//                    table.buttons().container()
//                            .appendTo( '#dataTables_wrapper .col-md-6:eq(0)' );
                } );
    </script>

    <script src="@routes.Assets.versioned("javascripts/plugins/base64.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/views/roles/roles.js")" type="text/javascript"></script>

</html>
