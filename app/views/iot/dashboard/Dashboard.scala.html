@import helper._
@import vn.m2m.utils.DateUtil
@import vn.m2m.common.models.User
@import vn.m2m.utils.UserHelper
@(currentUser:User)

<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
        <title>@Messages("Dashboard")</title>
        <link rel="icon" type="image/png" href="@routes.Assets.versioned("images/logo.jpg")">

        <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
        <meta name="viewport" content="width=device-width" />

        @views.html.iot.tags.Main_css()

        <link href="@routes.Assets.versioned("assets/plugins/highcharts/css/highcharts-white.css")" rel="stylesheet" />

        <script type="text/javascript" src="@UserHelper.linkGoogleMapApi"> </script>

        <link href="@routes.Assets.versioned("stylesheets/views/dashboard/map.css")" rel="stylesheet"/>
        <style type="text/css">
                canvas#canvas4 {
                    position: relative;
                    /*top: 20px;*/
                }
        </style>
    </head>
    <body class="bg-theme">

        <div class="">
            @views.html.iot.tags.Menu(currentUser, "")

            @views.html.iot.tags.Header(currentUser)

            @views.html.iot.dashboard.Dashboard_body()
        </div>

        @views.html.Loading()
    </body>

    @views.html.iot.tags.Main_js()

    <script src="@routes.Assets.versioned("assets/js/bootstrap.bundle.min.js")"></script>
        <!--plugins-->
    <script src="@routes.Assets.versioned("assets/plugins/simplebar/js/simplebar.min.js")"></script>
    <script src="@routes.Assets.versioned("assets/plugins/metismenu/js/metisMenu.min.js")"></script>
    <script src="@routes.Assets.versioned("assets/plugins/perfect-scrollbar/js/perfect-scrollbar.js")"></script>
    <script>
        new PerfectScrollbar('.customers-list');

        $(document).ready(function () {
            $("#menu-home").addClass("mm-active");
        })
    </script>

    <script>
            var initLatLng = new google.maps.LatLng(21.025703, 105.832758);
            var mapOptions = {
                center: initLatLng,
                zoom: 12,
                zoomControl: true,
                zoomControlOptions: {
                    position: google.maps.ControlPosition.RIGHT_BOTTOM
                },
                mapTypeControlOptions: {
                    position: google.maps.ControlPosition.TOP_RIGHT
                },
                scaleControl: true,
                streetViewControl: false,
                fullscreenControl: true,
                fullscreenControlOptions: {
                    position: google.maps.ControlPosition.RIGHT_BOTTOM
                },
                gestureHandling: 'greedy'
            };
            var mapPosition = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);

            var device_vtag = "@routes.Assets.versioned("images/dashboard/marker.png")";

            var circleSignal_run = "@routes.Assets.versioned("images/signal/greenCircle.gif")";
            var circleSignal_parking = "@routes.Assets.versioned("images/signal/blueCircle.gif")";
            var circleSignal_lost_Gps = "@routes.Assets.versioned("images/signal/yellowCircle.gif")";
            var circleSignal_lost_connect = "@routes.Assets.versioned("images/signal/grayCircle.gif")";
            var circleSignal_alarm = "@routes.Assets.versioned("images/signal/redCircle.gif")";

    </script>
    <script src="@routes.Assets.versioned("javascripts/views/dashboard/MapPositionMarkerCluster.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/views/dashboard/dashboard_mapController.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/views/dashboard/dashboard_map_markerSignal.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/views/dashboard/dashboard_map_markerCluster.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/views/dashboard/dashboard_map_deviceList.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/views/dashboard/dashboard_map_infoWindow.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/views/dashboard/dashboard_map_getImgWithRotation.js")" type="text/javascript"></script>

    @*socket*@
    <script src="@routes.Assets.versioned("javascripts/views/dashboard/dashboard_map_socket.js")" type="text/javascript"></script>
    <script type="text/javascript">
            var WS = window['MozWebSocket'] ? MozWebSocket : WebSocket;
            var socket;
            var urlWS;
            if (isSecure()) {
                urlWS = "@controllers.routes.SocketController.wsSocket().webSocketURL(true)";
            }
            else {
                urlWS = "@controllers.routes.SocketController.wsSocket().webSocketURL(false)";
            }
            console.log("urlWS:" +urlWS);
            setTimeout(function() {
                socket = startSocket(urlWS, false);
            }, 3000);
    </script>


    <script src="@routes.Assets.versioned("assets/plugins/apexcharts-bundle/js/apexcharts.min.js")"></script>

    <script src="@routes.Assets.versioned("assets/plugins/highcharts/js/highcharts.js")"></script>
    <script src="@routes.Assets.versioned("assets/plugins/highcharts/js/highcharts-more.js")"></script>
    <script src="@routes.Assets.versioned("assets/plugins/highcharts/js/variable-pie.js")"></script>
    <script src="@routes.Assets.versioned("assets/plugins/highcharts/js/solid-gauge.js")"></script>
    <script src="@routes.Assets.versioned("assets/plugins/highcharts/js/highcharts-3d.js")"></script>
    <script src="@routes.Assets.versioned("assets/plugins/highcharts/js/cylinder.js")"></script>
    <script src="@routes.Assets.versioned("assets/plugins/highcharts/js/funnel3d.js")"></script>
    <script src="@routes.Assets.versioned("assets/plugins/highcharts/js/exporting.js")"></script>
    <script src="@routes.Assets.versioned("assets/plugins/highcharts/js/export-data.js")"></script>
    <script src="@routes.Assets.versioned("assets/plugins/highcharts/js/accessibility.js")"></script>

    <script src="@routes.Assets.versioned("javascripts/views/dashboard/dashboard_chart.js")" type="text/javascript"></script>
    <script src="@routes.Assets.versioned("javascripts/views/dashboard/dashboard_realtimeChart.js")" type="text/javascript"></script>

</html>
