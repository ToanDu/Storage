@import helper._
@import vn.m2m.utils.DateUtil
@import vn.m2m.common.models.User
@import vn.m2m.iot.models.RegisterDeveloper
@import vn.m2m.common.models.forms.SearchObjectData
@(currentUser:User, searchResultData: SearchObjectData, searchField: List[String])
<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>@Messages("Register Developer List")</title>
    <link rel="icon" type="image/png" href="@routes.Assets.versioned("images/logo.jpg")">

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />
    <meta name="viewport" content="width=device-width" />

    @views.html.iot.tags.Main_css()

  </head>
  <body class="bg-theme">
    @views.html.admin.navbar()

    @views.html.admin.header(currentUser)

    <div class="page-wrapper">
      <div class="page-content">

        @views.html.filter.FilterHeaderTag(currentUser,searchResultData.getSearchFilterForm,searchField,"/registerDeveloperList")

        <div class="card" style="box-shadow: 0 0.3rem 1.8rem rgb(0 0 0 / 12%);">
          <div class="card-header card-header-primary card-header-icon">
            <div class="toolbar" style="float: right">
              <button class="btn btn-success px-5 radius-30" onclick="exportToExcelRegister()">
                <i class="bx bx-download" aria-hidden="true"></i> @Messages("Export")
              </button>
            </div>
          </div>

          <div class="card-body">
            <div class="table-responsive">

              <table id="dataTables" class="table align-middle mb-0 table-responsive table-striped" style='width: 100%;'>
                <thead>
                  <th>@Messages("STT")</th>
                  <th>@Messages("filter.name")</th>
                  <th>@Messages("Công ty ")</th>
                  <th>@Messages("Email ")</th>
                  <th>@Messages("SĐT")</th>
                  <th>@Messages("Vai trò ")</th>
                  <th>@Messages("Lĩnh vực ")</th>
                  <th>@Messages("Số thiết bị ")</th>
                  <th>@Messages("Số người dùng ")</th>
                  <th>@Messages("IP ")</th>
                  <th>@Messages("Date ")</th>
                  <th>@Messages("Action")</th>
                </thead>
                <tbody>
                @for((register: RegisterDeveloper, index)<- searchResultData.getObjectList.zipWithIndex) {
                  <tr>
                    <td>@(index+1+(searchResultData.getSearchFilterForm.getPage -1)*searchResultData.getSearchFilterForm.getPageSize)</td>
                    <td>@register.getName</td>
                    <td>@register.getNameCompany</td>
                    <td>@register.getEmail</td>
                    <td>@register.getPhone</td>
                    <td>@register.getRole</td>
                    <td>@register.getField</td>
                    <td>@register.getCountDevice</td>
                    <td>@register.getCountUser</td>
                    <td>@register.getIp</td>
                    <td>@DateUtil.getDateByFormat(register.getLogDate, DateUtil.FORMAT_DATE_YYYY_MM_DD_HH_mm)</td>
                    <td align='center'>
                      <button class="btn btn-light" onclick="setDelRegister('@register.getId')" data-bs-toggle="modal" data-bs-target="#delConfirmModal">
                        <i class="bx bx-trash"></i>
                      </button>
                    </td>
                  </tr>
                }
                </tbody>
              </table>

              @views.html.filter.FilterFooterTag(searchResultData.getSearchFilterForm)

            </div>
          </div>
        </div>

      </div>
    </div>

    @views.html.admin.registerDeveloper.RegisterDeveloperList_del()

    @views.html.Loading()

  </body>

  @views.html.admin.mainJs()

  <script>
          $(document).ready(function () {
            $("#menu-registerDeveloper").addClass("mm-active");
            $("#menu").metisMenu();

            var table = $("#dataTables").DataTable({
              responsive: true,
              lengthChange: false,
              "info": false,
              bSort: false,
              "order": false,
              "paging" : false,
              searching: false,
            });
          })

  </script>

  <script src="@routes.Assets.versioned("javascripts/SearchJs.js")" type="text/javascript"></script>
  @views.html.filter.FilterScriptTag(searchResultData.getSearchFilterForm, searchField)

  <script src="@routes.Assets.versioned("javascripts/exportfile/table3export.js")" type="text/javascript"></script>

  <script src="@routes.Assets.versioned("javascripts/views/admin/registerDeveloper/registerDeveloper.js")" type="text/javascript"></script>

</html>
